{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "description": "Schema for the AWS Route53 Recovery Readiness ResourceSet Resource and API.",
  "taggable": true,
  "definitions": {
    "Tag": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Key": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Value": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        }
      },
      "required": [
        "Value",
        "Key"
      ]
    },
    "NLBResource": {
      "description": "The Network Load Balancer resource that a DNS target resource points to.",
      "type": "object",
      "properties": {
        "Arn": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ],
          "description": "A Network Load Balancer resource Amazon Resource Name (ARN)."
        }
      },
      "additionalProperties": false
    },
    "R53ResourceRecord": {
      "description": "The Route 53 resource that a DNS target resource record points to.",
      "type": "object",
      "properties": {
        "DomainName": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ],
          "description": "The DNS target domain name."
        },
        "RecordSetId": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ],
          "description": "The Resource Record set id."
        }
      },
      "additionalProperties": false
    },
    "TargetResource": {
      "description": "The target resource that the Route 53 record points to.",
      "type": "object",
      "properties": {
        "NLBResource": {
          "$ref": "#/definitions/NLBResource"
        },
        "R53Resource": {
          "$ref": "#/definitions/R53ResourceRecord"
        }
      },
      "oneOf": [
        {
          "required": [
            "NLBResource"
          ]
        },
        {
          "required": [
            "R53Resource"
          ]
        }
      ],
      "additionalProperties": false
    },
    "DNSTargetResource": {
      "description": "A component for DNS/routing control readiness checks.",
      "type": "object",
      "properties": {
        "DomainName": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ],
          "description": "The domain name that acts as an ingress point to a portion of the customer application."
        },
        "RecordSetId": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ],
          "description": "The Route 53 record set ID that will uniquely identify a DNS record, given a name and a type."
        },
        "HostedZoneArn": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ],
          "description": "The hosted zone Amazon Resource Name (ARN) that contains the DNS record with the provided name of the target resource."
        },
        "RecordType": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ],
          "description": "The type of DNS record of the target resource."
        },
        "TargetResource": {
          "$ref": "#/definitions/TargetResource"
        }
      },
      "additionalProperties": false
    },
    "Resource": {
      "description": "The resource element of a ResourceSet",
      "type": "object",
      "properties": {
        "ResourceArn": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ],
          "description": "The Amazon Resource Name (ARN) of the AWS resource."
        },
        "ComponentId": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ],
          "description": "The component identifier of the resource, generated when DNS target resource is used."
        },
        "DnsTargetResource": {
          "$ref": "#/definitions/DNSTargetResource"
        },
        "ReadinessScopes": {
          "description": "A list of recovery group Amazon Resource Names (ARNs) and cell ARNs that this resource is contained within.",
          "type": "array",
          "items": {
            "type": "string",
            "maxItems": 5
          },
          "insertionOrder": false
        }
      },
      "additionalProperties": false
    }
  },
  "properties": {
    "ResourceSetName": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "The name of the resource set to create."
    },
    "Resources": {
      "description": "A list of resource objects in the resource set.",
      "type": "array",
      "items": {
        "$ref": "#/definitions/Resource"
      },
      "minItems": 1,
      "maxItems": 6,
      "insertionOrder": false
    },
    "ResourceSetArn": {
      "oneOf": [
        {
          "type": "string",
          "minLength": 1,
          "maxLength": 256
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "The Amazon Resource Name (ARN) of the resource set."
    },
    "ResourceSetType": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "The resource type of the resources in the resource set. Enter one of the following values for resource type: \n\nAWS: :AutoScaling: :AutoScalingGroup, AWS: :CloudWatch: :Alarm, AWS: :EC2: :CustomerGateway, AWS: :DynamoDB: :Table, AWS: :EC2: :Volume, AWS: :ElasticLoadBalancing: :LoadBalancer, AWS: :ElasticLoadBalancingV2: :LoadBalancer, AWS: :MSK: :Cluster, AWS: :RDS: :DBCluster, AWS: :Route53: :HealthCheck, AWS: :SQS: :Queue, AWS: :SNS: :Topic, AWS: :SNS: :Subscription, AWS: :EC2: :VPC, AWS: :EC2: :VPNConnection, AWS: :EC2: :VPNGateway, AWS::Route53RecoveryReadiness::DNSTargetResource"
    },
    "Tags": {
      "description": "A tag to associate with the parameters for a resource set.",
      "type": "array",
      "items": {
        "$ref": "#/definitions/Tag",
        "maxItems": 20
      },
      "insertionOrder": false
    }
  },
  "additionalProperties": false,
  "required": [
    "ResourceSetType",
    "Resources"
  ]
}