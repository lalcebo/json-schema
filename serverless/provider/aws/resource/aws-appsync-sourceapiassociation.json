{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "description": "Resource Type definition for AWS::AppSync::SourceApiAssociation",
  "definitions": {
    "SourceApiAssociationConfig": {
      "properties": {
        "MergeType": {
          "description": "Configuration of the merged behavior for the association. For example when it could be auto or has to be manual.",
          "type": "string",
          "enum": [
            "AUTO_MERGE",
            "MANUAL_MERGE"
          ]
        }
      },
      "additionalProperties": false
    }
  },
  "properties": {
    "SourceApiIdentifier": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "Identifier of the Source GraphQLApi to associate. It could be either GraphQLApi ApiId or ARN"
    },
    "MergedApiIdentifier": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "Identifier of the Merged GraphQLApi to associate. It could be either GraphQLApi ApiId or ARN"
    },
    "Description": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "Description of the SourceApiAssociation."
    },
    "SourceApiAssociationConfig": {
      "description": "Customized configuration for SourceApiAssociation.",
      "$ref": "#/definitions/SourceApiAssociationConfig"
    },
    "AssociationId": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "Id of the SourceApiAssociation."
    },
    "AssociationArn": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "ARN of the SourceApiAssociation."
    },
    "SourceApiId": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "GraphQLApiId of the source API in the association."
    },
    "SourceApiArn": {
      "oneOf": [
        {
          "type": "string",
          "pattern": "^arn:aws(-(cn|us-gov))?:[a-z-]+:(([a-z]+-)+[0-9])?:([0-9]{12})?:[^.]+$"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "ARN of the source API in the association."
    },
    "MergedApiId": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "GraphQLApiId of the Merged API in the association."
    },
    "MergedApiArn": {
      "oneOf": [
        {
          "type": "string",
          "pattern": "^arn:aws(-(cn|us-gov))?:[a-z-]+:(([a-z]+-)+[0-9])?:([0-9]{12})?:[^.]+$"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "ARN of the Merged API in the association."
    },
    "SourceApiAssociationStatus": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "MERGE_SCHEDULED",
            "MERGE_FAILED",
            "MERGE_SUCCESS",
            "MERGE_IN_PROGRESS",
            "AUTO_MERGE_SCHEDULE_FAILED",
            "DELETION_SCHEDULED",
            "DELETION_IN_PROGRESS",
            "DELETION_FAILED"
          ]
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "Current status of SourceApiAssociation."
    },
    "SourceApiAssociationStatusDetail": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "Current SourceApiAssociation status details."
    },
    "LastSuccessfulMergeDate": {
      "oneOf": [
        {
          "type": "string",
          "format": "date-time"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ],
      "description": "Date of last schema successful merge."
    }
  },
  "additionalProperties": false,
  "additionalIdentifiers": [
    [
      "/properties/SourceApiIdentifier",
      "/properties/MergedApiIdentifier"
    ]
  ]
}