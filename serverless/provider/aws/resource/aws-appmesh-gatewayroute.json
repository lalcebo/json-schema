{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "description": "Resource Type definition for AWS::AppMesh::GatewayRoute",
  "additionalProperties": false,
  "properties": {
    "Uid": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ]
    },
    "MeshName": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ]
    },
    "VirtualGatewayName": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ]
    },
    "MeshOwner": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ]
    },
    "ResourceOwner": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ]
    },
    "GatewayRouteName": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ]
    },
    "Id": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ]
    },
    "Arn": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "../component/functions.json#/AwsFunctionString"
        }
      ]
    },
    "Spec": {
      "$ref": "#/definitions/GatewayRouteSpec"
    },
    "Tags": {
      "type": "array",
      "uniqueItems": false,
      "items": {
        "$ref": "#/definitions/Tag"
      }
    }
  },
  "definitions": {
    "GatewayRouteHostnameMatch": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Suffix": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Exact": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        }
      }
    },
    "QueryParameter": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Name": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Match": {
          "$ref": "#/definitions/HttpQueryParameterMatch"
        }
      },
      "required": [
        "Name"
      ]
    },
    "GatewayRouteVirtualService": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "VirtualServiceName": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        }
      },
      "required": [
        "VirtualServiceName"
      ]
    },
    "GatewayRouteTarget": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "VirtualService": {
          "$ref": "#/definitions/GatewayRouteVirtualService"
        },
        "Port": {
          "type": "integer"
        }
      },
      "required": [
        "VirtualService"
      ]
    },
    "GrpcGatewayRouteMetadata": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Invert": {
          "type": "boolean"
        },
        "Name": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Match": {
          "$ref": "#/definitions/GatewayRouteMetadataMatch"
        }
      },
      "required": [
        "Name"
      ]
    },
    "GrpcGatewayRouteMatch": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Hostname": {
          "$ref": "#/definitions/GatewayRouteHostnameMatch"
        },
        "Metadata": {
          "type": "array",
          "uniqueItems": false,
          "items": {
            "$ref": "#/definitions/GrpcGatewayRouteMetadata"
          }
        },
        "ServiceName": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Port": {
          "type": "integer"
        }
      }
    },
    "HttpQueryParameterMatch": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Exact": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        }
      }
    },
    "HttpGatewayRoutePrefixRewrite": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Value": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "DefaultPrefix": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        }
      }
    },
    "GrpcGatewayRoute": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Action": {
          "$ref": "#/definitions/GrpcGatewayRouteAction"
        },
        "Match": {
          "$ref": "#/definitions/GrpcGatewayRouteMatch"
        }
      },
      "required": [
        "Action",
        "Match"
      ]
    },
    "GatewayRouteSpec": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "HttpRoute": {
          "$ref": "#/definitions/HttpGatewayRoute"
        },
        "Http2Route": {
          "$ref": "#/definitions/HttpGatewayRoute"
        },
        "GrpcRoute": {
          "$ref": "#/definitions/GrpcGatewayRoute"
        },
        "Priority": {
          "type": "integer"
        }
      }
    },
    "HttpGatewayRouteMatch": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Path": {
          "$ref": "#/definitions/HttpPathMatch"
        },
        "Headers": {
          "type": "array",
          "uniqueItems": false,
          "items": {
            "$ref": "#/definitions/HttpGatewayRouteHeader"
          }
        },
        "Port": {
          "type": "integer"
        },
        "Hostname": {
          "$ref": "#/definitions/GatewayRouteHostnameMatch"
        },
        "Prefix": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Method": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "QueryParameters": {
          "type": "array",
          "uniqueItems": false,
          "items": {
            "$ref": "#/definitions/QueryParameter"
          }
        }
      }
    },
    "HttpGatewayRouteAction": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Target": {
          "$ref": "#/definitions/GatewayRouteTarget"
        },
        "Rewrite": {
          "$ref": "#/definitions/HttpGatewayRouteRewrite"
        }
      },
      "required": [
        "Target"
      ]
    },
    "GrpcGatewayRouteRewrite": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Hostname": {
          "$ref": "#/definitions/GatewayRouteHostnameRewrite"
        }
      }
    },
    "HttpGatewayRouteHeader": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Invert": {
          "type": "boolean"
        },
        "Name": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Match": {
          "$ref": "#/definitions/HttpGatewayRouteHeaderMatch"
        }
      },
      "required": [
        "Name"
      ]
    },
    "GatewayRouteRangeMatch": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Start": {
          "type": "integer"
        },
        "End": {
          "type": "integer"
        }
      },
      "required": [
        "Start",
        "End"
      ]
    },
    "GrpcGatewayRouteAction": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Target": {
          "$ref": "#/definitions/GatewayRouteTarget"
        },
        "Rewrite": {
          "$ref": "#/definitions/GrpcGatewayRouteRewrite"
        }
      },
      "required": [
        "Target"
      ]
    },
    "HttpGatewayRouteHeaderMatch": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Suffix": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Exact": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Prefix": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Regex": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Range": {
          "$ref": "#/definitions/GatewayRouteRangeMatch"
        }
      }
    },
    "HttpGatewayRoutePathRewrite": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Exact": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        }
      }
    },
    "GatewayRouteMetadataMatch": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Suffix": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Exact": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Prefix": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Regex": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Range": {
          "$ref": "#/definitions/GatewayRouteRangeMatch"
        }
      }
    },
    "Tag": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Value": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Key": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        }
      },
      "required": [
        "Value",
        "Key"
      ]
    },
    "HttpPathMatch": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Regex": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        },
        "Exact": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        }
      }
    },
    "HttpGatewayRoute": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Action": {
          "$ref": "#/definitions/HttpGatewayRouteAction"
        },
        "Match": {
          "$ref": "#/definitions/HttpGatewayRouteMatch"
        }
      },
      "required": [
        "Action",
        "Match"
      ]
    },
    "HttpGatewayRouteRewrite": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Path": {
          "$ref": "#/definitions/HttpGatewayRoutePathRewrite"
        },
        "Hostname": {
          "$ref": "#/definitions/GatewayRouteHostnameRewrite"
        },
        "Prefix": {
          "$ref": "#/definitions/HttpGatewayRoutePrefixRewrite"
        }
      }
    },
    "GatewayRouteHostnameRewrite": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "DefaultTargetHostname": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "../component/functions.json#/AwsFunctionString"
            }
          ]
        }
      }
    }
  },
  "required": [
    "MeshName",
    "VirtualGatewayName",
    "Spec"
  ]
}